<#bs4Body>

<div class="container-fluid">
    <%if (has(error)){%>
        <h4 class="red"><span class="px-3">${error!}</span></h4>
    <%}else{%>
        <form id="addForm" role="form" novalidate>
            <!-- 注意： 客户来源系统、来源渠道由于新建后就不能修改，所以在js中加载出已有用户后，没有覆盖清除 -->
            <input type="hidden" id="sourceSystem" name="sourceSystem" value="${sourceSystem!}">
            <input type="hidden" id="sourceChannel" name="sourceChannel" value="${sourceChannel!}">
            <!-- 以下数据为身份证件读取出来的数据 start -->
            <input type="hidden" id="gender" name="gender" class="form-control">
            <input type="hidden" id="photo" name="photo" class="form-control">
            <input type="hidden" id="birthdate" name="birthdate" class="form-control">
            <input type="hidden" id="certificateAddr" name="certificateAddr" class="form-control">
            <input type="hidden" id="certificateRange" name="certificateRange" class="form-control">
            <!-- 以下数据为身份证件读取出来的数据 end -->
            <input type="hidden" id="id" name="id" value="" class="form-control">
            <div class="row row-cols-1">
                <div class="form-group col" id="organizationTypeDiv">
                    <label for="organizationType" class="">客户类型<i class="red">*</i></label>
                    <select id="organizationType" name="organizationType" class="form-control" required onchange="organizationTypeChange()"></select>
                    <#bcomboProvider _id="organizationType" _provider="organizationTypeProvider" _queryParams='{required:true}' _valueField="value" _textField="text" _value="" _onLoadSuccess="organizationTypeLoadSuccess" />
                </div>
                <div class="form-group col">
                    <label for="" class="">证件<i class="red">*</i></label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <select id="certificateType" name="certificateType" class="form-control" required>
                            </select>
                        </div>
                        <input type="text" class="form-control" id="certificateNumber" name="certificateNumber" required minlength="15" maxlength="18"/>
                        <div class="input-group-append">
                            <span class="input-group-text"><a id="idCardRead" href="javascript:;">读卡</a></span>
                        </div>
                    </div>

                </div>
                <div class="form-group col">
                    <label for="" class="">客户名称<i class="red">*</i></label>
                    <input type="text" class="form-control" id="name" name="name" maxlength="20" required/>
                </div>
                <div class="form-group col" data-type="company">
                    <label for="" class="">法人代表<i class="red">*</i></label>
                    <input type="text" class="form-control" id="corporationName" name="corporationName"  maxlength="20" required/>
                </div>
                <div class="form-group col" data-type="company">
                    <label for="" class="">联系人<i class="red">*</i></label>
                    <input type="text" class="form-control" id="contactsName" name="contactsName" maxlength="20" required/>
                </div>
                <div class="form-group col">
                    <label for="" class="">联系电话<i class="red">*</i></label>
                    <input type="text" class="form-control isMobile" id="contactsPhone" name="contactsPhone" maxlength="11" required/>
                </div>
            </div>

            <div class="text-right mt-2">
                <button type="button" class="btn btn-secondary px-5" id="formCancel">取消</button>
                <button type="button" class="btn btn-primary px-5" id="formSubmit">注册</button>
            </div>
        </form>
    <%}%>
</div>
</#bs4Body>
<#customer_commonJs />
<#customer_registerJs />
